<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Search / Spec Search</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="assets/css/spec_search.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js" defer></script>
    <script src="https://cdn.datatables.net/1.13.8/js/dataTables.bootstrap5.min.js" defer></script>
    <script src="assets/js/spec_search.js" defer></script>
</head>
<body>
    <div class="container py-4">
        <header class="mb-4">
            <h1 class="h3 mb-1">Product Search / Spec Search</h1>
            <p class="text-secondary mb-0">Bootstrap 5 + DataTables with class-based jQuery bindings</p>
            <div id="status-message" class="small text-muted mt-1"></div>
        </header>

        <section class="section-block mb-3">
            <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between">
                <div>
                    <div class="text-uppercase text-muted small mb-1">Root Selection</div>
                    <div class="fw-semibold">Choose starting category</div>
                </div>
                <span class="badge bg-primary" id="root-count">0 roots</span>
            </div>
            <div id="root-category-options" class="d-flex flex-wrap gap-3 mt-3"></div>
        </section>

        <section class="section-block mb-3">
            <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between">
                <div>
                    <div class="text-uppercase text-muted small mb-1">Product Categories</div>
                    <div class="fw-semibold">Pick one or more</div>
                </div>
                <span class="badge bg-secondary" id="category-count">0 selected</span>
            </div>
            <div id="product-categories" class="category-groups mt-3"></div>
        </section>

        <section class="section-block mb-3">
            <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between">
                <div>
                    <div class="text-uppercase text-muted small mb-1">Filters</div>
                    <div class="fw-semibold">Series & custom fields</div>
                </div>
                <button class="btn btn-sm btn-outline-secondary" id="clear-filters" type="button">Clear</button>
            </div>
            <div id="selected-filters" class="mb-3 d-flex flex-wrap gap-2 mt-3"></div>
            <div id="facet-container" class="facet-grid overflow-x-auto"></div>
        </section>

        <section class="section-block">
            <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between mb-2">
                <div>
                    <div class="text-uppercase text-muted small mb-1">Results</div>
                    <div class="fw-semibold">Products</div>
                </div>
                <span class="badge bg-info text-dark" id="result-count">0 items</span>
            </div>
            <div class="table-responsive">
                <table id="results-table" class="table table-striped table-hover w-100"></table>
            </div>
        </section>
    </div>
</body>
</html>
